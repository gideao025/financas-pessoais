<section class="mx-auto flex w-full max-w-6xl flex-col gap-6">
  <div>
    <h2 class="text-3xl font-black tracking-tight">Configurações da Conta</h2>
    <p class="text-sm text-[#64748b]">Gerencie perfil, segurança e conexões bancárias.</p>
  </div>

  <div class="border-b border-[#e5e7eb] dark:border-[#2a3441]">
    <div class="flex gap-6 overflow-x-auto">
      <button class="border-b-2 border-primary pb-2 text-sm font-bold text-primary">Detalhes do Perfil</button>
      <button class="pb-2 text-sm font-bold text-[#64748b]">Segurança da Conta</button>
      <button class="pb-2 text-sm font-bold text-[#64748b]">Preferências de Notificação</button>
      <button class="pb-2 text-sm font-bold text-[#64748b]">Contas Bancárias Vinculadas</button>
    </div>
  </div>

  <article class="rounded-xl border border-[#e5e7eb] bg-white p-5 dark:border-[#2a3441] dark:bg-[#1a242f]">
    <div class="flex flex-wrap items-center justify-between gap-4">
      <div class="flex items-center gap-4">
        <div class="size-20 rounded-full bg-cover bg-center" style="background-image:url('https://i.pravatar.cc/140?img=12')"></div>
        <div>
          <p class="text-xl font-bold">{{ perfil().nome }}</p>
          <p class="text-sm text-[#64748b]">{{ perfil().email }}</p>
          <span class="mt-1 inline-flex rounded-full bg-primary/10 px-2 py-0.5 text-xs font-semibold text-primary">Membro Premium</span>
        </div>
      </div>
      <div class="flex gap-2">
        <button class="rounded-lg bg-[#eef2f6] px-3 py-2 text-sm font-bold dark:bg-[#24313f]">Trocar Avatar</button>
        <button class="rounded-lg bg-primary px-3 py-2 text-sm font-bold text-white" (click)="salvar()">Salvar Alterações</button>
      </div>
    </div>
  </article>

  <article class="grid grid-cols-1 gap-4 rounded-xl border border-[#e5e7eb] bg-white p-5 md:grid-cols-2 dark:border-[#2a3441] dark:bg-[#1a242f]">
    <label><span class="mb-1 block text-xs font-bold">Nome</span><input class="h-10 w-full rounded-lg border-[#dbe0e6]" [value]="perfil().nome" (input)="atualizarPerfil('nome', ($any($event.target)).value)" /></label>
    <label><span class="mb-1 block text-xs font-bold">E-mail</span><input class="h-10 w-full rounded-lg border-[#dbe0e6]" [value]="perfil().email" (input)="atualizarPerfil('email', ($any($event.target)).value)" /></label>
    <label class="md:col-span-2"><span class="mb-1 block text-xs font-bold">Telefone</span><input class="h-10 w-full rounded-lg border-[#dbe0e6]" [value]="perfil().telefone" (input)="atualizarPerfil('telefone', ($any($event.target)).value)" /></label>
  </article>

  <article class="rounded-xl border border-[#e5e7eb] bg-white dark:border-[#2a3441] dark:bg-[#1a242f]">
    <div class="flex items-center justify-between border-b border-[#e5e7eb] p-4 dark:border-[#2a3441]"><div><p class="text-sm font-bold">Resumos Mensais</p><p class="text-xs text-[#64748b]">Receba relatório detalhado por e-mail.</p></div><button class="text-sm font-bold" [ngClass]="preferencias().resumoMensal ? 'text-primary' : 'text-[#64748b]'" (click)="alternarPreferencia('resumoMensal')">{{ preferencias().resumoMensal ? 'Ativado' : 'Desativado' }}</button></div>
    <div class="flex items-center justify-between border-b border-[#e5e7eb] p-4 dark:border-[#2a3441]"><div><p class="text-sm font-bold">Alertas de Saldo Baixo</p><p class="text-xs text-[#64748b]">Aviso quando saldo for menor que R$ 500.</p></div><button class="text-sm font-bold" [ngClass]="preferencias().alertaSaldo ? 'text-primary' : 'text-[#64748b]'" (click)="alternarPreferencia('alertaSaldo')">{{ preferencias().alertaSaldo ? 'Ativado' : 'Desativado' }}</button></div>
    <div class="flex items-center justify-between p-4"><div><p class="text-sm font-bold">Avisos de Segurança</p><p class="text-xs text-[#64748b]">Alertas para login e atividade suspeita.</p></div><button class="text-sm font-bold" [ngClass]="preferencias().alertaSeguranca ? 'text-primary' : 'text-[#64748b]'" (click)="alternarPreferencia('alertaSeguranca')">{{ preferencias().alertaSeguranca ? 'Ativado' : 'Desativado' }}</button></div>
  </article>

  <article class="rounded-xl border border-[#e5e7eb] bg-white p-5 dark:border-[#2a3441] dark:bg-[#1a242f]">
    <div class="mb-3 flex items-center justify-between"><h3 class="text-lg font-bold">Contas Bancárias Vinculadas</h3><button class="text-sm font-bold text-primary">+ Adicionar Novo Banco</button></div>
    <div class="grid grid-cols-1 gap-3 md:grid-cols-2">
      <div *ngFor="let banco of bancos()" class="flex items-center justify-between rounded-lg border border-[#e5e7eb] p-3 dark:border-[#2a3441]">
        <div><p class="text-sm font-bold">{{ banco.nome }}</p><p class="text-xs text-[#64748b]">•••• {{ banco.final }} • {{ banco.sincronizado ? 'Sincronizado' : 'Desconectado' }}</p></div>
        <button class="rounded px-2 py-1 text-xs font-bold" [ngClass]="banco.sincronizado ? 'bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400' : 'bg-[#eef2f6] text-[#64748b] dark:bg-[#24313f]'" (click)="alternarBanco(banco.id)">{{ banco.sincronizado ? 'Ativo' : 'Inativo' }}</button>
      </div>
    </div>
  </article>

  <p *ngIf="mensagem()" class="text-sm font-semibold text-green-600">{{ mensagem() }}</p>
</section>
